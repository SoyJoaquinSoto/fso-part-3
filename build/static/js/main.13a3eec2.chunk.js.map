{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","services.js","Notification.js","App.js","index.js"],"names":["Filter","nameFilter","handleChange","value","onChange","PersonForm","handleSubmit","newPerson","onSubmit","name","number","type","Persons","persons","deletePerson","filter","person","toUpperCase","includes","map","onClick","BASE_URL","services","getAll","axios","get","then","response","data","create","post","update","id","put","remove","delete","Notification","notification","message","className","App","useState","setPersons","setNewPerson","setNameFilter","setNotification","useEffect","e","target","preventDefault","selectedPerson","find","window","confirm","returnedPerson","setTimeout","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13a3eec2.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ nameFilter, handleChange }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with:\r\n\t\t\t<input value={nameFilter} onChange={handleChange} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({ handleSubmit, newPerson, handleChange }) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname:{\" \"}\r\n\t\t\t\t<input name=\"name\" value={newPerson.name} onChange={handleChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber:{\" \"}\r\n\t\t\t\t<input name=\"number\" value={newPerson.number} onChange={handleChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;","import React from \"react\";\r\n\r\nconst Persons = ({ persons, nameFilter, deletePerson }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{persons &&\r\n\t\t\t\tpersons\r\n\t\t\t\t\t.filter((person) =>\r\n\t\t\t\t\t\tperson.name.toUpperCase().includes(nameFilter.toUpperCase())\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map((person) => (\r\n\t\t\t\t\t\t<p key={person.name}>\r\n\t\t\t\t\t\t\t{person.name} {person.number}\r\n\t\t\t\t\t\t\t<button onClick={() => deletePerson(person)}>delete</button>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\nconst BASE_URL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(BASE_URL);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newPerson) => {\r\n\tconst request = axios.post(BASE_URL, newPerson);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newPerson) => {\r\n\tconst request = axios.put(`${BASE_URL}/${id}`, newPerson);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${BASE_URL}/${id}`);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst services = { getAll, create, update, remove };\r\n\r\nexport default services;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ notification }) => {\r\n\tif (!notification.message) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`notification ${notification.type}`}>\r\n\t\t\t{notification.message}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport services from \"./services\";\nimport Notification from \"./Notification\";\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newPerson, setNewPerson] = useState({ name: \"\", number: \"\" });\n\tconst [nameFilter, setNameFilter] = useState(\"\");\n\tconst [notification, setNotification] = useState({ message: \"\", type: \"\" });\n\n\tuseEffect(() => {\n\t\tservices.getAll().then((response) => {\n\t\t\tsetPersons(response);\n\t\t});\n\t}, []);\n\n\tconst handlePersonChange = (e) => {\n\t\tsetNewPerson({ ...newPerson, [e.target.name]: e.target.value });\n\t};\n\n\tconst handleNameFilterChange = (e) => {\n\t\tsetNameFilter(e.target.value);\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tif (!newPerson.name || !newPerson.number) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selectedPerson = persons.find(\n\t\t\t(person) => person.name === newPerson.name\n\t\t);\n\n\t\tif (selectedPerson) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${selectedPerson.name} is already added to the phonebook, replace the old number with a new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tservices\n\t\t\t\t\t.update(selectedPerson.id, newPerson)\n\t\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.map((person) =>\n\t\t\t\t\t\t\t\tperson.id === returnedPerson.id ? returnedPerson : person\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\tmessage: `Updated ${newPerson.name}`,\n\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => setNotification({ message: \"\", type: \"\" }), 2000);\n\t\t\t\t\t\tsetNewPerson({ name: \"\", number: \"\" });\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.filter((person) => person.id !== selectedPerson.id)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\tmessage: `Information of ${selectedPerson.name} has already been removed from the server`,\n\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => setNotification({ message: \"\", type: \"\" }), 2000);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tsetPersons([...persons, newPerson]);\n\t\tservices.create(newPerson).then((response) => {\n\t\t\tsetPersons([...persons, response]);\n\t\t\tsetNotification({\n\t\t\t\tmessage: `Added ${newPerson.name}`,\n\t\t\t\ttype: \"success\",\n\t\t\t});\n\t\t\tsetTimeout(() => setNotification({ message: \"\", type: \"\" }), 2000);\n\t\t\tsetNewPerson({ name: \"\", number: \"\" });\n\t\t});\n\t};\n\n\tconst deletePerson = (selectedPerson) => {\n\t\tif (window.confirm(`Seguro que desea eliminar a ${selectedPerson.name}`)) {\n\t\t\tservices\n\t\t\t\t.remove(selectedPerson.id)\n\t\t\t\t.then(\n\t\t\t\t\tsetPersons(\n\t\t\t\t\t\tpersons.filter((person) => person.id !== selectedPerson.id)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification notification={notification} />\n\t\t\t<Filter nameFilter={nameFilter} handleChange={handleNameFilterChange} />\n\n\t\t\t<h2>add a new</h2>\n\t\t\t<PersonForm\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\tnewPerson={newPerson}\n\t\t\t\thandleChange={handlePersonChange}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons\n\t\t\t\tpersons={persons}\n\t\t\t\tnameFilter={nameFilter}\n\t\t\t\tdeletePerson={deletePerson}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}