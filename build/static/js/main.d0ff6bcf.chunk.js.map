{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","services.js","Notification.js","App.js","index.js"],"names":["Filter","nameFilter","handleChange","value","onChange","PersonForm","handleSubmit","newPerson","onSubmit","name","number","type","Persons","persons","deletePerson","filter","person","toUpperCase","includes","map","onClick","BASE_URL","services","getAll","axios","get","then","response","data","create","post","update","id","put","remove","delete","Notification","notification","message","className","App","useState","people","setPeople","setNewPerson","setNameFilter","setNotification","useEffect","e","target","preventDefault","selectedPerson","find","window","confirm","returnedPerson","setTimeout","catch","error","status","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d0ff6bcf.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ nameFilter, handleChange }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with:\r\n\t\t\t<input value={nameFilter} onChange={handleChange} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({ handleSubmit, newPerson, handleChange }) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname:{\" \"}\r\n\t\t\t\t<input name=\"name\" value={newPerson.name} onChange={handleChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber:{\" \"}\r\n\t\t\t\t<input name=\"number\" value={newPerson.number} onChange={handleChange} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\">add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;","import React from \"react\";\r\n\r\nconst Persons = ({ persons, nameFilter, deletePerson }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{persons &&\r\n\t\t\t\tpersons\r\n\t\t\t\t\t.filter((person) =>\r\n\t\t\t\t\t\tperson.name.toUpperCase().includes(nameFilter.toUpperCase())\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.map((person) => (\r\n\t\t\t\t\t\t<p key={person.name}>\r\n\t\t\t\t\t\t\t{person.name} {person.number}\r\n\t\t\t\t\t\t\t<button onClick={() => deletePerson(person)}>delete</button>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\nconst BASE_URL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(BASE_URL);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newPerson) => {\r\n\tconst request = axios.post(BASE_URL, newPerson);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newPerson) => {\r\n\tconst request = axios.put(`${BASE_URL}/${id}`, newPerson);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${BASE_URL}/${id}`);\r\n\treturn request.then((response) => response.data);\r\n};\r\n\r\nconst services = { getAll, create, update, remove };\r\n\r\nexport default services;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ notification }) => {\r\n\tif (!notification.message) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`notification ${notification.type}`}>\r\n\t\t\t{notification.message}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport services from \"./services\";\nimport Notification from \"./Notification\";\n\nconst App = () => {\n\tconst [people, setPeople] = useState([]);\n\tconst [newPerson, setNewPerson] = useState({ name: \"\", number: \"\" });\n\tconst [nameFilter, setNameFilter] = useState(\"\");\n\tconst [notification, setNotification] = useState({ message: \"\", type: \"\" });\n\n\tconst getAllPeople = () => {\n\t\tservices.getAll().then((response) => {\n\t\t\tsetPeople(response);\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tgetAllPeople();\n\t}, []);\n\n\tconst handlePersonChange = (e) => {\n\t\tsetNewPerson({ ...newPerson, [e.target.name]: e.target.value });\n\t};\n\n\tconst handleNameFilterChange = (e) => {\n\t\tsetNameFilter(e.target.value);\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tif (!newPerson.name || !newPerson.number) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selectedPerson = people.find(\n\t\t\t(person) => person.name === newPerson.name\n\t\t);\n\n\t\tif (selectedPerson) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${selectedPerson.name} is already added to the phonebook, replace the old number with a new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tservices\n\t\t\t\t\t.update(selectedPerson.id, newPerson)\n\t\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\t\tsetPeople(\n\t\t\t\t\t\t\tpeople.map((person) =>\n\t\t\t\t\t\t\t\tperson.id === returnedPerson.id ? returnedPerson : person\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\tmessage: `Updated ${newPerson.name}`,\n\t\t\t\t\t\t\ttype: \"success\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => setNotification({ message: \"\", type: \"\" }), 2000);\n\t\t\t\t\t\tsetNewPerson({ name: \"\", number: \"\" });\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tif (error.response.status === 404) {\n\t\t\t\t\t\t\tsetPeople(\n\t\t\t\t\t\t\t\tpeople.filter((person) => person.id !== selectedPerson.id)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\t\tmessage: `Information of ${selectedPerson.name} has already been removed from the server`,\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t\t() => setNotification({ message: \"\", type: \"\" }),\n\t\t\t\t\t\t\t\t2000\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetNotification({\n\t\t\t\t\t\t\tmessage: error.response.data.error,\n\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => setNotification({ message: \"\", type: \"\" }), 4000);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tservices\n\t\t\t.create(newPerson)\n\t\t\t.then((response) => {\n\t\t\t\tsetPeople([...people, response]);\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: `Added ${newPerson.name}`,\n\t\t\t\t\ttype: \"success\",\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => setNotification({ message: \"\", type: \"\" }), 2000);\n\t\t\t\tsetNewPerson({ name: \"\", number: \"\" });\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: error.response.data.error,\n\t\t\t\t\ttype: \"error\",\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => setNotification({ message: \"\", type: \"\" }), 4000);\n\t\t\t});\n\t};\n\n\tconst deletePerson = (selectedPerson) => {\n\t\tif (window.confirm(`Seguro que desea eliminar a ${selectedPerson.name}`)) {\n\t\t\tservices\n\t\t\t\t.remove(selectedPerson.id)\n\t\t\t\t.then(\n\t\t\t\t\tsetPeople(people.filter((person) => person.id !== selectedPerson.id))\n\t\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification notification={notification} />\n\t\t\t<Filter nameFilter={nameFilter} handleChange={handleNameFilterChange} />\n\n\t\t\t<h2>add a new</h2>\n\t\t\t<PersonForm\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\tnewPerson={newPerson}\n\t\t\t\thandleChange={handlePersonChange}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons\n\t\t\t\tpersons={people}\n\t\t\t\tnameFilter={nameFilter}\n\t\t\t\tdeletePerson={deletePerson}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}